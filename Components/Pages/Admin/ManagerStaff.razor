@page "/admin/manage-staff"
@using DangDucThuanFinalYear.HotelDTO

@inject NavigationManager NavigationManager

<h3>ManagerStaff</h3>
<div class="container">
    <div class="d-flex flex-column align-items-center" style="margin-top: 50px">
        <h1 style="color: orange; display: flex; align-items: center; font-size: 1.5rem;">
            <NavLink href="/" class="me-2 btn btn-sm btn-default">
                <i class="fas fa-arrow-left"></i>
            </NavLink>

            <span style="display: inline-flex; align-items: center;">
                <span style="margin-right: 5px;">Manage Staff</span>
            </span>
        </h1>
        <NavLink href="admin/manage-staff/new" class="btn btn-sm btn-primary mt-3">+ Add new Staff</NavLink>

        <!-- Search input -->
        <input type="text" placeholder="Search..." onchange="filterUsers()" class="form-control mt-3" />
    </div>
    <hr />
    <UserList Role="RoleType.Guest" />
</div>

<script>
    function filterUsers() {
        var searchTerm = document.querySelector('input[type="text"]').value.toLowerCase();
        var users = document.querySelectorAll('.userItem');

        for (var i = 0; i < users.length; i++) {
            var user = users[i];
            var userName = user.getAttribute('data-username').toLowerCase();

            if (userName.includes(searchTerm)) {
                user.style.display = 'table-row'; // or 'block' depending on your HTML structure
            } else {
                user.style.display = 'none';
            }
        }
    }
</script>
@code {
    private RegisterUserModelDTO _model = new();
}
